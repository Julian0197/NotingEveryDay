### 序列号和确认

+ 每个TCP段都有32位的序列号，建立连接时计算机生成的随机数，通过SYN包发给接受端，没发一次就累加该数据字节数大小。接收方根据序列号来保证顺序，如果乱序TCP会重新排序确保按照发送顺序。
+ 确认号是下一次期望收到的数据的序列号，收到这个确认应答号表示这个序列之前的数据都已经被正常接受，用来解决丢包问题

### 超时和定时器

+ 发送方启动定时器，数据发送后计时。如果超时时间内未接受，会触发重传。
+ 超时时间一般设置为略大于一个RTT

### 流量控制

+ TCP使用滑动窗口机制来进行流量控制。接收方在TCP头部的窗口字段指定可用的缓冲区大小，发送方根据窗口大小控制发送速率，防止发送太多数据导致缓冲区溢出。
+ 窗口大小可以动态调整，适应接收方的缓冲区状态和网络拥塞情况

### 拥塞控制

+ 拥塞控制是TCP保证网络稳定的机制。发送方根据网络拥塞程度调整发送速率，避免过多数据拥塞网络。
+ 采用慢启动，初试拥塞窗口一般为1个MSS，慢启动时发送端每次将拥塞窗口大小翻倍，以加速数据传输速率。
+ 采用拥塞避免，当拥塞窗口大于慢启动门限，进入拥塞避免阶段，拥塞窗口的增长速率减慢，每次只增加一个MSS（最大报文段长度）的大小
+ 采用快重传和快恢复，接受方监测到数据包丢失，会立刻发送一个重复的ACK来通知客户端。发送端会快速重传丢失的数据包。当发送端收到重复的ACK时，它会认为某些数据包丢失，但网络仍然在工作。发送端会将拥塞窗口减小，以降低发送速率。在快速恢复状态下，发送端不会回到慢启动（Slow Start）阶段，而是允许拥塞窗口逐渐增加，以逐渐提高发送速率。

### 连接管理

+ 三次握手简历连接
+ 四次挥手关闭连接